<!DOCTYPE html>
<html lang="es">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  margin:0;
  background:#000;
  height:100vh;
  overflow:hidden;
}
#bg{
  position:fixed;
  inset:0;
}
#bg img{
  width:100%;
  height:100%;
  object-fit:contain;
  pointer-events:none;
}
#btn{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:20px;
  padding:14px 28px;
  border:0;
  border-radius:10px;
  display:none;
}
</style>

<div id="bg">
  <img id="img">
</div>

<button id="btn">tap</button>
<audio id="snd" src="bang.mp3"></audio>

<script>
const pasos = ["bang_cero.jpg","bang_uno.png","bang_dos.png"];
const isDesktop = matchMedia("(pointer: fine)").matches;

// índice del paso ACTUAL dentro de `pasos`
let i = isDesktop ? 0 : -1;

// imagen inicial
img.src = isDesktop ? pasos[0] : "bang_tres.png";

function avanzar(){
  i++;

  // fin → redirección
  if(i >= pasos.length){
    window.location.href = "https://secreto.site/es/aky9z7";
    return;
  }

  img.src = pasos[i];

  // sonido SOLO al mostrar bang_uno
  if(pasos[i] === "bang_uno.png"){
    snd.currentTime = 0;
    snd.play();
  }
}

// interacción según dispositivo
if(isDesktop){
  document.addEventListener("click", avanzar);
}else{
  btn.style.display = "block";
  btn.onclick = avanzar;
}
</script>
</html>