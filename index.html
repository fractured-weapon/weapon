<!DOCTYPE html>
<html lang="es">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
body{
  margin:0;
  background:#000;
  height:100vh;
  overflow:hidden;
}
#bg{
  position:fixed;
  inset:0;
}
#bg img{
  width:100%;
  height:100%;
  object-fit:contain;
  pointer-events:none;
}
#btn{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:20px;
  padding:14px 28px;
  border:0;
  border-radius:10px;
  display:none;
}
</style>

<div id="bg">
  <img id="img">
</div>

<button id="btn">tap</button>
<audio id="snd" src="bang.mp3"></audio>

<script>
const secuencia = [
  "bang_cero.jpg",
  "bang_uno.png",
  "bang_dos.png"
];

let i = 0;
const isDesktop = matchMedia("(pointer: fine)").matches;

// imagen inicial distinta segÃºn dispositivo
img.src = isDesktop ? secuencia[0] : "bang_tres.png";

function avanzar(){
  // sonido al llegar a bang_uno
  if(i === 1){
    snd.currentTime = 0;
    snd.play();
  }

  img.src = secuencia[i];

  if(i === secuencia.length - 1){
    setTimeout(() => {
      window.location.href = "https://secreto.site/es/aky9z7";
    }, 200);
    return;
  }

  i++;
}

if(isDesktop){
  document.addEventListener("click", avanzar);
}else{
  btn.style.display = "block";
  btn.onclick = avanzar;
}
</script>
</html>
